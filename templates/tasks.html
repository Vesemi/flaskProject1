{% extends "base.html" %}
{% block content  %}
    <div class="container">
        <div class="row justify-content-center">
        <div class="col-md-6 mb-5">
    <h1>Tasks</h1>
    <br>
    <form action="/tasks" class="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <div class="form-group row">
        {{ form.title.label(class_="col-sm-3 col-form-label") }}
        {{ form.title(class_="form-control col-sm-9") }}
        {% for error in form.title.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </div>
    <div class="form-group row">
        {{ form.description.label(class_="col-sm-3 col-form-label") }}
        {{ form.description(class_="form-control col-sm-9") }}
        {% for error in form.description.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </div>
        <div class="form-group row">
        {{ form.creator.label(class_="col-sm-3 col-form-label") }}
        {{ form.creator(class_="form-control col-sm-9") }}
        {% for error in form.creator.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </div>
        <div class="form-group row">
        {{ form.contractor.label(class_="col-sm-3 col-form-label") }}
        {{ form.contractor(class_="form-control col-sm-9") }}
        {% for error in form.contractor.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </div>
        <div class="form-group row">
        {{ form.timestamp_created.label(class_="col-sm-3 col-form-label") }}
        {{ form.timestamp_created(class_="form-control col-sm-9") }}
        {% for error in form.timestamp_created.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </div>
        <div class="form-group row">
        {{ form.timestamp_finished.label(class_="col-sm-3 col-form-label") }}
        {{ form.timestamp_finished(class_="form-control col-sm-9") }}
        {% for error in form.timestamp_finished.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </div>
    
        <p>{{ form.submit(class_="btn btn-primary ") }}</p>
    </form>
    </div></div>
    </br>
    </br>
</div><div class="table-container">
    <table class="table table-hover">
  <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Zadanie</th>
        <th scope="col">Opis</th>
        <th scope="col">Utworzył</th>
        <th scope="col">Wykonawca</th>
        <th scope="col">Data Utworzenia</th>
        <th scope="col">Data Zakończenia</th>
    </tr>
  </thead>
  <tbody>

  {% for task in tasks %}
      <tr>
        <th scope="row">{{ task.name }}</th>

                <td>{{ task.title }}</td>
      <td>{{ task.description }}</td>
      <td>{{ task.creator }}</td>
      <td>{{ task.contractor }}</td>
      <td>{{ task.timestamp_created }}</td>
      <td>{{ task.timestamp_finished }}</td>


      </tr>
    {% endfor %}
  </tbody>
</table>

</div>
    
{% endblock %}